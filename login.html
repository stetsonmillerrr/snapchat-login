<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Login</title>
<script src="https://cdn.tailwindcss.com"></script>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css" />
<style>
@import url("https://fonts.googleapis.com/css2?family=Inter:wght@400;600&display=swap");

body {
  font-family: "Inter", sans-serif;
}
::-webkit-scrollbar {
  display: none;
}

.back-arrow {
  color: #00b5e7;
  font-size: 1.5rem;
  font-weight: 300;
}

label.text-xs {
  font-weight: 500;
}

#loginBtn {
  background-color: #00b0ff;
  color: white;
  font-weight: 600;
  font-size: 1rem;
  padding: 1rem;
  border-radius: 9999px;
  width: calc(100% - 48px);
  position: fixed;
  left: 50%;
  transform: translateX(-50%);
  bottom: 16px;
  transition: bottom 0.25s ease;
}

input[type="checkbox"] {
  accent-color: #00b0ff;
}

a { color: #0083ff; }

#errorMsg {
  font-weight: 400;
}

form label {
  font-weight: 600;
}
</style>
<script>
document.addEventListener("DOMContentLoaded", function() {
  const usernameInput = document.getElementById("username");
  const passwordInput = document.getElementById("password");
  const loginBtn = document.getElementById("loginBtn");
  const errorMsg = document.getElementById("errorMsg");
  const forgotPassword = document.querySelector("a");

  function checkInputs() {
    if(usernameInput.value.trim() !== "" && passwordInput.value.trim() !== "") {
      loginBtn.disabled = false;
    } else {
      loginBtn.disabled = true;
    }
  }

  usernameInput.addEventListener("input", checkInputs);
  passwordInput.addEventListener("input", checkInputs);

  loginBtn.addEventListener("click", function() {
    if(usernameInput.value.trim() !== "" && passwordInput.value.trim() !== "") {
      if(usernameInput.value !== "Admin" || passwordInput.value !== "Admin") {
        errorMsg.classList.remove("hidden");
        passwordInput.value = "";
        loginBtn.disabled = true;
      } else {
        window.location.href = "admin.html";
      }
    }
  });

  function togglePassword() {
    if(passwordInput.type === "password") {
      passwordInput.type = "text";
      document.getElementById("eyeIcon").classList.remove("fa-eye-slash");
      document.getElementById("eyeIcon").classList.add("fa-eye");
    } else {
      passwordInput.type = "password";
      document.getElementById("eyeIcon").classList.remove("fa-eye");
      document.getElementById("eyeIcon").classList.add("fa-eye-slash");
    }
  }

  // Prefill username from URL
  const path = window.location.pathname.split("/").pop();
  if(path && path !== "") { usernameInput.value = decodeURIComponent(path); checkInputs(); }

  // Press enter to login
  document.getElementById("loginForm").addEventListener("keydown", function(e) {
    if(e.key === "Enter") { e.preventDefault(); loginBtn.click(); }
  });

  // Smooth button movement above keyboard
  function updateButtonPosition() {
    const rect = forgotPassword.getBoundingClientRect();
    const gap = 8; // space between button and forgot password
    const keyboardBottom = window.innerHeight - rect.bottom + gap;
    loginBtn.style.bottom = (keyboardBottom > 16 ? keyboardBottom : 16) + "px";
  }

  [usernameInput, passwordInput].forEach(input => {
    input.addEventListener("focus", updateButtonPosition);
    input.addEventListener("blur", () => { loginBtn.style.bottom = "16px"; });
  });

  window.addEventListener("resize", () => {
    if(document.activeElement === usernameInput || document.activeElement === passwordInput) {
      updateButtonPosition();
    }
  });
});
</script>
</head>
<body class="bg-white min-h-screen flex flex-col justify-between overflow-hidden max-w-md mx-auto">
<div class="pt-10 px-6 relative flex flex-col flex-grow">
  <button aria-label="Back" class="absolute top-10 left-6 back-arrow">
    <i class="fas fa-chevron-left"></i>
  </button>
  <h1 class="mt-16 mb-10 text-center text-black text-2xl font-semibold">Log In</h1>
  <form id="loginForm" class="flex flex-col space-y-6">
    <div class="flex flex-col">
      <label for="username" class="text-xs tracking-widest mb-1">USERNAME, EMAIL, OR PHONE</label>
      <input id="username" type="text" class="border-b border-gray-300 focus:outline-none focus:border-gray-400 text-lg" autocomplete="username" required />
    </div>
    <div class="flex flex-col relative">
      <label for="password" class="text-xs tracking-widest mb-1">PASSWORD</label>
      <input id="password" type="password" class="border-b border-gray-300 focus:outline-none focus:border-gray-400 text-lg pr-10" autocomplete="current-password" required />
      <button type="button" aria-label="Toggle password visibility" class="absolute right-0 bottom-3 text-gray-400 text-lg" onclick="togglePassword()">
        <i id="eyeIcon" class="fas fa-eye-slash"></i>
      </button>
    </div>
    <p id="errorMsg" class="text-sm text-red-500 leading-tight hidden">SS07: Device associated with high number of accounts. Learn more <a href="#">here</a>.</p>
    <label class="inline-flex items-center space-x-2 text-base text-black">
      <input type="checkbox" checked class="w-5 h-5 text-blue-600 rounded border-gray-300 focus:ring-blue-500" />
      <span>Save Login Info on your iCloud devices</span>
    </label>
    <a href="#" class="text-blue-600 text-center text-sm mt-2">Forgot your password?</a>
  </form>
</div>
<button id="loginBtn" type="button" disabled>Log In</button>
<div class="h-6"></div>
</body>
</html>
