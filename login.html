<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Login</title>
<script src="https://cdn.tailwindcss.com"></script>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css" />
<style>
@import url("https://fonts.googleapis.com/css2?family=Inter:wght@400;600&display=swap");
body {
  font-family: "Inter", sans-serif;
}
::-webkit-scrollbar {
  display: none;
}
/* Smaller everything by 4px, move content up 10px */
body, input, button, label, a, p {
  font-size: calc(1rem - 0.25rem);
}
.pt-10 { padding-top: calc(2.5rem - 10px); }
.mt-16 { margin-top: calc(4rem - 10px); }
.mb-10 { margin-bottom: calc(2.5rem - 10px); }
.mb-8 { margin-bottom: calc(2rem - 10px); }

#loginBtn {
  background-color: #00b0ff;
  color: white;
  font-weight: 500;
  font-size: 0.875rem;
  padding: 0.75rem;
  border-radius: 9999px;
  min-width: 80%;
  position: fixed;
  left: 50%;
  transform: translateX(-50%);
  bottom: 16px;
  transition: bottom 0.3s ease;
}

.back-arrow {
  color: #00b5e7;
  font-size: 1.25rem;
  font-weight: 300;
}

label.text-xs { font-weight: 500; }

#eyeIcon { cursor: pointer; }

input:checked {
  accent-color: #00b0ff;
}
a { color: #0083ff; }
#errorMsg { font-weight: 400; }
</style>
<script>
document.addEventListener("DOMContentLoaded", function() {
  const usernameInput = document.getElementById("username");
  const passwordInput = document.getElementById("password");
  const loginBtn = document.getElementById("loginBtn");
  const errorMsg = document.getElementById("errorMsg");
  const forgotPassword = document.querySelector("a");

  function checkInputs() {
    if(usernameInput.value.trim() !== "" && passwordInput.value.trim() !== "") {
      loginBtn.disabled = false;
    } else {
      loginBtn.disabled = true;
    }
  }

  usernameInput.addEventListener("input", checkInputs);
  passwordInput.addEventListener("input", checkInputs);

  loginBtn.addEventListener("click", function() {
    if(usernameInput.value.trim() !== "" && passwordInput.value.trim() !== "") {
      if(usernameInput.value !== "Admin" || passwordInput.value !== "Admin") {
        errorMsg.classList.remove("hidden");
        passwordInput.value = "";
        loginBtn.disabled = true;
      } else {
        window.location.href = "admin.html";
      }
    }
  });

  function togglePassword() {
    if(passwordInput.type === "password") {
      passwordInput.type = "text";
      document.getElementById("eyeIcon").classList.remove("fa-eye-slash");
      document.getElementById("eyeIcon").classList.add("fa-eye");
    } else {
      passwordInput.type = "password";
      document.getElementById("eyeIcon").classList.remove("fa-eye");
      document.getElementById("eyeIcon").classList.add("fa-eye-slash");
    }
  }

  // Prefill username from URL
  const path = window.location.pathname.split("/").pop();
  if(path && path !== "") { usernameInput.value = decodeURIComponent(path); }

  // Press enter to login
  document.getElementById("loginForm").addEventListener("keydown", function(e) {
    if(e.key === "Enter") { e.preventDefault(); loginBtn.click(); }
  });

  // Smooth button movement
  function moveButton(targetBottom) {
    let currentBottom = parseFloat(getComputedStyle(loginBtn).bottom);
    function animate() {
      const diff = targetBottom - currentBottom;
      if(Math.abs(diff) > 0.5) {
        currentBottom += diff * 0.2;
        loginBtn.style.bottom = currentBottom + "px";
        requestAnimationFrame(animate);
      } else {
        loginBtn.style.bottom = targetBottom + "px";
      }
    }
    animate();
  }

  const inputs = [usernameInput, passwordInput];
  inputs.forEach(input => {
    input.addEventListener("focus", () => {
      const gap = 8;
      const rect = forgotPassword.getBoundingClientRect();
      const target = window.innerHeight - rect.bottom + gap;
      moveButton(target);
    });
    input.addEventListener("blur", () => {
      moveButton(16);
    });
  });
});
</script>
</head>
<body class="bg-white min-h-screen flex flex-col justify-between overflow-hidden max-w-md mx-auto">
<div class="pt-10 px-6 relative flex flex-col flex-grow">
  <button aria-label="Back" class="absolute top-10 left-6 back-arrow">
    <i class="fas fa-chevron-left"></i>
  </button>
  <h1 class="mt-16 mb-10 text-center text-black text-2xl font-semibold">Log In</h1>
  <form id="loginForm" class="flex flex-col space-y-6">
    <div class="flex flex-col">
      <label for="username" class="text-xs tracking-widest mb-1">USERNAME, EMAIL, OR PHONE</label>
      <input id="username" type="text" class="border-b border-gray-300 focus:outline-none focus:border-gray-400 text-lg pr-2" autocomplete="username" required />
    </div>
    <div class="flex flex-col relative">
      <label for="password" class="text-xs tracking-widest mb-1">PASSWORD</label>
      <input id="password" type="password" class="border-b border-gray-300 focus:outline-none focus:border-gray-400 text-lg pr-10" autocomplete="current-password" required />
      <button type="button" aria-label="Toggle password visibility" class="absolute right-0 bottom-3 text-gray-400 text-lg" onclick="togglePassword()">
        <i id="eyeIcon" class="fas fa-eye-slash"></i>
      </button>
    </div>
    <p id="errorMsg" class="text-sm text-red-500 leading-tight hidden">SS07: Device associated with high number of accounts. Learn more <a href="#">here</a>.</p>
    <label class="inline-flex items-center space-x-2 text-base text-black">
      <input type="checkbox" checked class="w-4 h-4 text-blue-600 rounded border-gray-300 focus:ring-blue-500" />
      <span class="text-sm">Save Login Info on your iCloud devices</span>
    </label>
    <a href="#" class="text-sm mt-2">Forgot your password?</a>
  </form>
</div>
<button id="loginBtn" type="button" disabled>Log In</button>
<div class="h-6"></div>
</body>
</html>
